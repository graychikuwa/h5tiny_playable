!function(e){var r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=r,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(i,t){if(1&t&&(i=n(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var r in i)n.d(e,r,function(t){return i[t]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=45)}({45:function(t,i,e){e(46)},46:function(t,i,e){Tiny.Particles=function(t){this.game=t,this.emitters=[]},Tiny.Particles.prototype={add:function(t){return this.emitters.push(t),t},remove:function(t){t=this.emitters.indexOf(t);if(-1<t)return this.emitters.splice(t,1)},update:function(t,i){for(var e=this.emitters.length;e--;)this.emitters[e].update(t,i)}},Tiny.Particles.prototype.constructor=Tiny.Particles,e(47),e(48)},47:function(t,i){Tiny.Particle=function(t){Tiny.DisplayObject.call(this),this.parent=t,this.anchor=new Tiny.Point,this.texture={valid:!1},this._frame=0,this.lifespan=0},Tiny.Particle.prototype=Object.create(Tiny.DisplayObject.prototype),Tiny.Particle.prototype.constructor=Tiny.Particle,Tiny.Particle.prototype.setTexture=function(t,i){"string"==typeof t&&(t=Tiny.TextureCache[null!=i?t+"_"+i:t]),this.texture=t},Object.defineProperty(Tiny.Particle.prototype,"frameName",{get:function(){return this.texture.frame.name},set:function(t){this.texture.frame.name&&this.setTexture(Tiny.TextureCache[this.texture.key+"_"+t])}}),Object.defineProperty(Tiny.Particle.prototype,"frame",{get:function(){return this._frame},set:function(t){this.texture.max_no_frame&&(this._frame=t,this._frame>this.texture.max_no_frame&&(this._frame=0),this.setTexture(Tiny.TextureCache[this.texture.key+"_"+this._frame]))}}),Tiny.Particle.prototype.drawTexture=function(t){var i=this.anchor.x*-this.texture.frame.width,e=this.anchor.y*-this.texture.frame.height,r=this.texture.baseTexture.resolution/t.resolution;t.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,i/r,e/r,this.texture.crop.width/r,this.texture.crop.height/r)},Tiny.Particle.prototype.reset=function(t,i){this.x=t||0,this.y=i||0,this.alpha=1,this.scale.set(1)},Tiny.Particle.prototype.update=function(t,i){},Tiny.Particle.prototype.onEmit=function(){},Tiny.Particle.prototype.draw=function(t){},Tiny.Particle.prototype._update=function(t){return!1!==this.visible&&(this.lifespan-=t,this.lifespan<=0?this.visible=!1:(this.update(this.lifespan,t),void this.updateTransform()))},Tiny.Particle.prototype._renderCanvas=function(t){!1!==this.visible&&0!==this.alpha&&(t.context.globalAlpha=this.worldAlpha,t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*t.resolution,this.worldTransform.ty*t.resolution),this.texture.valid?this.drawTexture(t):this.draw(t.context,t.resolution))}},48:function(t,i){Tiny.Emitter=function(t){Tiny.DisplayObjectContainer.call(this),this.anchor=new Tiny.Point,this.maxParticles=t,this.particles=[],this.pattern=Tiny.Particle,this.fillStyle="#f54545",this.particleAnchor=new Tiny.Point(.5,.5),this.on=!1,this._timer=0,this._quantity=0,this._counter=0,this._flowQuantity=0,this._flowTotal=0,this.blendMode="source-over"},Tiny.Emitter.prototype=Object.create(Tiny.DisplayObjectContainer.prototype),Tiny.Emitter.prototype.constructor=Tiny.Emitter,Object.defineProperty(Tiny.Emitter.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(Tiny.Emitter.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),Tiny.Emitter.prototype.makeParticles=function(t,i){void 0===i&&(i=this.maxParticles);var e,r=this.particles.length;for(i>this.maxParticles&&(this.maxParticles=i);r<i;)e=new this.pattern(this),t&&e.setTexture(t),e.visible=!1,e.anchor.set(this.particleAnchor.x,this.particleAnchor.y),this.particles.push(e),r++},Tiny.Emitter.prototype.flow=function(t,i,e,r,n){return void 0===r&&(r=-1),void 0===n&&(n=!0),(e=void 0!==e&&0!==e?e:1)>this.maxParticles&&(e=this.maxParticles),this._counter=0,this._flowQuantity=e,this._flowTotal=r,n?(this.start(!0,t,i,e),this._counter+=e,this.on=!0,this._timer=i):this.start(!1,t,i,e),this},Tiny.Emitter.prototype.explode=function(t,i){return void(this._flowTotal=0)===i&&(i=this.particles.length),this.start(!0,t,0,i,!1),this},Tiny.Emitter.prototype.start=function(t,i,e,r){if(void 0===t&&(t=!0),void 0===i&&(i=0),null==e&&(e=250),(r=void 0===r?0:r)>this.maxParticles&&(r=this.maxParticles),this.visible=!0,this.lifespan=i,this.frequency=e,t)for(var n=0;n<r;n++)this.emitParticle();else this.on=!0,this._quantity=r,this._counter=0,this._timer=e;return this},Tiny.Emitter.prototype.emitParticle=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null);for(var e,r=null,n=this.particles.length;n--;)if(!this.particles[n].visible){r=this.particles[n];break}if(null===r)return!1;var s=0,o=0;return null!==t?s=t:1<this._width&&(e=this._width/2,s=Tiny.rnd(-e,e)),null!==i?o=i:1<this._height&&(e=this._height/2,o=Tiny.rnd(-e,e)),r.reset(s,o),r.rotation=0,r.lifespan=this.lifespan,r.onEmit(),r.visible=!0},Tiny.Emitter.prototype.destroy=function(){this.game.particles.remove(this),Tiny.DisplayObjectContainer.prototype.destroy.call(this)},Tiny.Emitter.prototype.update=function(t){if(!1!==this.visible){if(this.on&&(this._timer-=t,this._timer<=0))if(this._timer=this.frequency,0!==this._flowTotal)if(0<this._flowQuantity){for(var i=0;i<this._flowQuantity;i++)if(this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal)){this.on=!1;break}}else this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal&&(this.on=!1));else this.emitParticle()&&(this._counter++,0<this._quantity&&this._counter>=this._quantity&&(this.on=!1));for(i=this.particles.length;i--;)this.particles[i]._update(t)}},Tiny.Emitter.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(t);else{this._mask&&t.maskManager.pushMask(this._mask,t),t.context.fillStyle=this.fillStyle,t.context.globalAlpha=this.worldAlpha,t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*t.resolution,this.worldTransform.ty*t.resolution);for(var i=0,i=0;i<this.particles.length;i++)this.particles[i]._renderCanvas(t);for(i=0;i<this.children.length;i++)this.children[i]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},Tiny.ObjectCreator.prototype.emitter=function(t,i,e){e=new Tiny.Emitter(e);return e.x=t||0,e.y=i||0,this.game.stage.addChild(e),this.game.particles.add(e)}}});